<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">




















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext">
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"dimmer":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="linux基础介绍操作系统:os(operating system),通用目的的软件程序  硬件驱动进程管理内存管理网络管理安全管理文件管理  安装linux: linux发行版企业多用红帽(redhat)的centos 个人电脑推荐kde桌面的manjaro或mint分区和启动:硬盘MBR分区(主引导记录)他有自己的启动器最大支持2tbuefi的GPT分区:逐渐代替MBR标准主分区 一块硬盘最多">
<meta property="og:type" content="website">
<meta property="og:title" content="linux">
<meta property="og:url" content="https://hubhack.github.io/about/index.html">
<meta property="og:site_name" content="千分无言">
<meta property="og:description" content="linux基础介绍操作系统:os(operating system),通用目的的软件程序  硬件驱动进程管理内存管理网络管理安全管理文件管理  安装linux: linux发行版企业多用红帽(redhat)的centos 个人电脑推荐kde桌面的manjaro或mint分区和启动:硬盘MBR分区(主引导记录)他有自己的启动器最大支持2tbuefi的GPT分区:逐渐代替MBR标准主分区 一块硬盘最多">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-03-21T15:14:26.414Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux">
<meta name="twitter:description" content="linux基础介绍操作系统:os(operating system),通用目的的软件程序  硬件驱动进程管理内存管理网络管理安全管理文件管理  安装linux: linux发行版企业多用红帽(redhat)的centos 个人电脑推荐kde桌面的manjaro或mint分区和启动:硬盘MBR分区(主引导记录)他有自己的启动器最大支持2tbuefi的GPT分区:逐渐代替MBR标准主分区 一块硬盘最多">



  <link rel="alternate" href="/atom.xml" title="千分无言" type="application/atom+xml">




  <link rel="canonical" href="https://hubhack.github.io/about/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>linux | 千分无言</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">千分无言</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">人生苦短 我用python</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-首页">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-linux menu-item-active">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>linux</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-python">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>python</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-关于">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>关于</a>

  </li>

      
      
    </ul>
  

  
    

    
    
      
      
    
      
      
    
      
      
    
      
      
    
    

  


  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">linux

</h1>

<div class="post-meta">
  
  



</div>

</header>

      
      
      
      <div class="post-body">
        
        
          <h2 id="linux基础介绍"><a href="#linux基础介绍" class="headerlink" title="linux基础介绍"></a>linux基础介绍</h2><h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统:"></a>操作系统:</h3><p>os(operating system),通用目的的软件程序</p>
<blockquote>
<p>硬件驱动<br>进程管理<br>内存管理<br>网络管理<br>安全管理<br>文件管理</p>
</blockquote>
<h3 id="安装linux"><a href="#安装linux" class="headerlink" title="安装linux:"></a>安装linux:</h3><blockquote>
<p>linux发行版企业多用红帽(redhat)的centos 个人电脑推荐kde桌面的<a href="https://www.manjaro.cn/153" target="_blank" rel="noopener">manjaro</a>或<a href="https://www.linuxmint.com/download.php" target="_blank" rel="noopener">mint</a><br>分区和启动:<br>硬盘MBR分区(主引导记录)他有自己的启动器最大支持2tb<br>uefi的GPT分区:逐渐代替MBR标准<br>主分区 一块硬盘最多4个,不能划分更小,最小单位<br>扩展分区:一块硬盘最多一个,不能直接创建文件系统<br>安装过程大同小异 <a href="https://blog.csdn.net/python_lqx/article/details/88670425" target="_blank" rel="noopener">详细步骤</a><br>需要注意的是如何分区:这里的分区在虚拟机上只是虚拟的,分100g不影响物理硬盘实际占用.实际情况要自己斟酌.<br>/dev/sda 100g<br>/dev/sda1 /boot mountpoint  1g<br>/dev/sda2 /                50g<br>/dev/sda3 /data            20g<br>/dev/sda5 /swap             2g</p>
</blockquote>
<h3 id="开发接口标准"><a href="#开发接口标准" class="headerlink" title="开发接口标准:"></a>开发接口标准:</h3><blockquote>
<p>ABI:application binary interface ABI描述了程序与os之间的底层接口<br>API:application programming interface<br>开源协议: GPLv2,GPLv3 Apache BSD Mozilla Mit</p>
</blockquote>
<h3 id="用户和内核空间"><a href="#用户和内核空间" class="headerlink" title="用户和内核空间:"></a>用户和内核空间:</h3><blockquote>
<p>username 用户程序的运行空间 为了安全,他们是隔离的即使用户的程序崩溃,内核也不受影响<br>内核空间:kernel space</p>
</blockquote>
<h3 id="linux哲学思想"><a href="#linux哲学思想" class="headerlink" title="linux哲学思想"></a>linux哲学思想</h3><p>在linux上一切皆文件,其实就是硬盘也是以文件格式展示出来的</p>
<h2 id="简单命令"><a href="#简单命令" class="headerlink" title="简单命令"></a>简单命令</h2><h3 id="bash基本命令"><a href="#bash基本命令" class="headerlink" title="bash基本命令"></a>bash基本命令</h3><p>  tty :查看终端命令<br>  echo $SHEll:显示当前shell<br>  cat:查看命令<br>  echo $SP1:显示命令提示符<br>  enable:查看命令<br>  hash:缓存表<br>  ls:list(列出目录内容)<br>  cd:change directory<br>  su:switch user<br>  rpm:redhat package manager<br>  pwd:print work directory<br>  ps:process status<br>  ps -auxf<br>  df:disk free<br>  rm:remove directory<br>  rmdir:remove directory<br>  cat:concatenate<br>  ln -s:link -soft<br>  mkdir:make directory<br>  man:manual<br>  mkfs:make file system<br>  fsck:file system chaeck<br>  uname:unix name<br>  df:disk usage<br>  lsmod:list modules<br>  mv:move file<br>  cp:copy file<br>  li:link file<br>  fg:foreground<br>  bg:background<br>  chown:chage owner<br>  tar:tape archive<br>  文件结尾的rc:resouce configuration<br>  apt:advanced packaging</p>
<p>  bash的基础特性：</p>
<p>（1）命令历史</p>
<pre><code>history

       环境变量：

               HISTSIZE：命令历史记录的条数

               HISTFILE：~/.bash_history

               HISTFILESIZE：命令历史文件记录历史的条数

       history  -d  OFFSET

       -c

       history  #：显示历史中最近的#条命令

       -a：手动追加当前会话缓冲区的命令历史至历史文件中

调用历史中的命令：

       ！#：重复执行第#条指令

       ！！：重复执行上一条命令

       ！string

调用上一条命令的最后一个参数：

       ！$

        ESC，.

        Alt+，

控制命令历史的记录方式：

        环境变量：HISTCONTROL

                 ignoredups：忽略重复的命令，连续且相同方为“重复”

                 ignorespace：忽略所有以空白开头的命令

                 ignoreboth：ignoredups，ignorespace

        修改环境变量值的方式：export 变量名=“值”

                变量赋值：把赋值符号后面的数据存储于变量名指向内存空间
</code></pre><p>（2）命令补全</p>
<pre><code>bash执行命令：

        内部命令：

        外部命令：bash根据PATH环境变量定义的路径，自左而右在每个路径搜寻以给定命令名的文件，第一次找到即为要执行的命令

                直接补全：Tab，用户给定的字符串只有一条唯一对应的命令

                以用户给定的字符串为开头对应的命令不唯一，则再次Tab会给出列表
</code></pre><p>（3）路径补全</p>
<pre><code>把用户给出的字符串当做路径开头，并在其指定上级目录下搜索以指定的字符串开头的文件名

如果唯一，则直接补全；否则，再次Tab，给出列表
</code></pre><p>（4）命令行展开</p>
<pre><code>~：展开为用户的主目录

~USERNAME：展开为指定用户的主目录

{}：可乘载一个以逗号分隔的列表，并将其展开为多个路径

      /tmp/{a,b} = /tmp/a，/tmp/b

      /tmp/{tom,jerry}/hi = /tmp/tom/hi，/tmp/jerry/hi
</code></pre><p>（5）命令的执行结果状态</p>
<pre><code>成功

失败

bash使用特殊变量$?保存最近一条命令的执行状态结果

0：成功

1-255：失败

程序执行有两类结果：

       程序的返回值

       程序的执行状态结果



 练习：

           （1）如何创建/tmp/x/y1，/tmp/x/y1/a，/tmp/x/y1/b，/tmp/x/y2/a，/tmp/x/y2/b

                    mkdir  /tmp/x/{y1,y2}/{a,b}

           （2）如何创建x_m，y_m，y_n

                    mkdir  {x,y}_{m,n}

            （3）如何创建/tmp/bin，/tmp/sbin，/tmp/usr，/tmp/usr/bin，/tmp/usr/sbin   

                     mkdir -p  /tmp/{bin,sbin,usr/{bin,sbin}}
</code></pre><p>目录管理类命令：</p>
<pre><code>cd，pwd，ls

mkdir，rmdir

mkdir  [options]

           -p：存在于不报错，且可自动创建所需的各目录

           -v：显示详细信息

           -m MOOE：创建目录时直接指定权限

tree

           -d：只显示目录

           -L（level）：指定显示的层级数目

           -p（pattern）：只显示由指定pattern匹配到的路径



rmdir：删除空目录

rmdir  [options]  ...  directory  ...

          -v：显示过程
</code></pre><p>文件查看类命令：</p>
<pre><code>cat，tac

more，less，tail，head

more      

        more  [option]  file... 

                  -d：显示翻页及退出提示  

less

        less  [option]  file...

head

        head  [option]  file...

                  -c #：指定获取前#字节

                  -n #：指定获取前#行 

tail  

        tail  [option]  file...

               -c #：指定获取后#字节

               -a #：指定获取后#行

               -f #：跟踪显示文件新追加的内容
</code></pre><p>文件的时间戳管理工具</p>
<pre><code>touch

文件：metadate，data

          查看文件状态：stat

          三个时间戳：

                 access  time：访问时间，简写为atime，读取文件内容

                 modify  time：修改时间，mtime，改变文件内容（数据）      

                 change  time：改变时间，ctime，元数据发生改变

touch命令：

         touch [option] ...file...

                   -a：only  atime

                   -m：only  mtime

                   -t  STAMP：

                           [[CC]YY]MMDDhhmm[.ss]

                   -c：如果文件不存，则不予创建
</code></pre><h3 id="linux命令缩写"><a href="#linux命令缩写" class="headerlink" title="linux命令缩写"></a>linux命令缩写</h3><p>命令缩写：</p>
<p>ls：list(列出目录内容)</p>
<p>cd：Change Directory（改变目录）</p>
<p>su:switch user 切换用户<br>rpm:redhat package manager 红帽子打包管理器<br>pwd:print work directory 打印当前目录 显示出当前工作目录的绝对路径<br>ps: process status(进程状态，类似于windows的任务管理器) 常用参数：－auxf<br>ps -auxf 显示进程状态<br>df: disk free 其功能是显示磁盘可用空间数目信息及空间结点信息。换句话说，就是报告在任何安装的设备或目录中，还剩多少自由的空间。<br>rpm： 即RedHat Package Management，是RedHat的发明之一</p>
<p>rmdir：Remove Directory（删除目录）</p>
<p>rm：Remove（删除目录或文件）</p>
<p>cat: concatenate连锁 cat file1 file2&gt;&gt;file3把文件1和文件2的内容联合起来放到file3中<br>insmod: install module,载入模块<br>ln -s : link -soft 创建一个软链接，相当于创建一个快捷方式</p>
<p>mkdir：Make Directory(创建目录</p>
<p>touch</p>
<p>man: Manual<br>pwd：Print working directory<br>su：Swith user<br>cd：Change directory<br>ls：List files<br>ps：Process Status<br>mkdir：Make directory<br>rmdir：Remove directory<br>mkfs: Make file system<br>fsck：File system check<br>cat: Concatenate<br>uname: Unix name<br>df: Disk free<br>du: Disk usage<br>lsmod: List modules<br>mv: Move file<br>rm: Remove file<br>cp: Copy file<br>ln: Link files<br>fg: Foreground<br>bg: Background<br>chown: Change owner<br>chgrp: Change group<br>chmod: Change mode<br>umount: Unmount<br>dd: 本来应根据其功能描述“Convert an copy”命名为“cc”，但“cc”已经被用以代表“C Complier”，所以命名为“dd”<br>tar：Tape archive<br>ldd：List dynamic dependencies<br>insmod：Install module<br>rmmod：Remove module<br>lsmod：List module<br>文件结尾的”rc”（如.bashrc、.xinitrc等）：Resource configuration<br>Knnxxx / Snnxxx（位于rcx.d目录下）：K（Kill）；S(Service)；nn（执行顺序号）；xxx（服务标识）<br>.a（扩展名a）：Archive，static library<br>.so（扩展名so）：Shared object，dynamically linked library<br>.o（扩展名o）：Object file，complied result of C/C++ source file<br>RPM：Red hat package manager<br>dpkg：Debian package manager<br>apt：Advanced package tool（Debian或基于Debian的发行版中提供）</p>
<p>部分Linux命令缩</p>
<p>bin = BINaries #下面的是一些二进制程序文件</p>
<p>/dev = DEVices  #下面的是一些硬件驱动</p>
<p>/etc = ETCetera #目录存放着各种系统配置文件, 类似于windows下的system</p>
<p>/lib = LIBrary</p>
<p>/proc = PROCesses</p>
<p>/sbin = Superuser BINaries</p>
<p>/tmp = TeMPorary</p>
<p>/usr = Unix Shared Resources </p>
<p>/var = VARiable ?</p>
<p>/boot=boot #下面的是开机启动文件</p>
<p>FIFO = First In, First Out</p>
<p>GRUB = GRand Unified Bootloader</p>
<p>IFS = Internal Field Seperators</p>
<p>LILO = LInux LOader</p>
<p>MySQL = My是最初作者女儿的名字，SQL = Structured Query Language</p>
<p>PHP = Personal Home Page Tools = PHP Hypertext Preprocessor</p>
<p>PS = Prompt String</p>
<p>Perl = “Pratical Extraction and Report Language” = “Pathologically Eclectic Rubbish Lister”</p>
<p>Python 得名于电视剧Monty Python’s Flying Circus</p>
<p>Tcl = Tool Command Language</p>
<p>Tk = ToolKit</p>
<p>VT = Video Terminal</p>
<p>YaST = Yet Another Setup Tool</p>
<p>apache = “a patchy” server</p>
<p>apt = Advanced Packaging Tool</p>
<p>ar = archiver</p>
<p>as = assembler</p>
<p>awk = “Aho Weiberger and Kernighan” 三个作者的姓的第一个字母</p>
<p>bash = Bourne Again SHell</p>
<p>bc = Basic (Better) Calculator</p>
<p>bg = BackGround</p>
<p>biff = 作者Heidi Stettner在U.C.Berkely养的一条狗,喜欢对邮递员汪汪叫。</p>
<p>cal = CALendar</p>
<p>cat = CATenate</p>
<p>cd = Change Directory</p>
<p>chgrp = CHange GRouP</p>
<p>chmod = CHange MODe</p>
<p>chown = CHange OWNer</p>
<p>chsh = CHange SHell</p>
<p>cmp = compare</p>
<p>cobra = Common Object Request Broker Architecture</p>
<p>comm = common</p>
<p>cp = CoPy</p>
<p>cpio = CoPy In and Out</p>
<p>cpp = C Pre Processor</p>
<p>cron = Chronos 希腊文时间</p>
<p>cups = Common Unix Printing System</p>
<p>cvs = Current Version System</p>
<p>daemon = Disk And Execution MONitor</p>
<p>dc = Desk Calculator</p>
<p>dd = Disk Dump</p>
<p>df = Disk Free</p>
<p>diff = DIFFerence</p>
<p>dmesg = diagnostic message</p>
<p>du = Disk Usage</p>
<p>ed = editor</p>
<p>egrep = Extended GREP</p>
<p>elf = Extensible Linking Format</p>
<p>elm = ELectronic Mail</p>
<p>emacs = Editor MACroS</p>
<p>eval = EVALuate</p>
<p>ex = EXtended</p>
<p>exec = EXECute</p>
<p>fd = file descriptors</p>
<p>fg = ForeGround</p>
<p>fgrep = Fixed GREP</p>
<p>fmt = format</p>
<p>fsck = File System ChecK</p>
<p>fstab = FileSystem TABle</p>
<p>fvwm = F*** Virtual Window Manager</p>
<p>gawk = GNU AWK</p>
<p>gpg = GNU Privacy Guard</p>
<p>groff = GNU troff</p>
<p>hal = Hardware Abstraction Layer</p>
<p>joe = Joe’s Own Editor</p>
<p>ksh = Korn SHell</p>
<p>lame = Lame Ain’t an MP3 Encoder</p>
<p>lex = LEXical analyser</p>
<p>lisp = LISt Processing = Lots of Irritating Superfluous Parentheses</p>
<p>ln = LiNk</p>
<p>lpr = Line PRint</p>
<p>ls = list</p>
<p>lsof = LiSt Open Files</p>
<p>m4 = Macro processor Version 4</p>
<p>man = MANual pages</p>
<p>mawk = Mike Brennan’s AWK</p>
<p>mc = Midnight Commander</p>
<p>mkfs = MaKe FileSystem</p>
<p>mknod = MaKe NODe</p>
<p>motd = Message of The Day</p>
<p>mozilla = MOsaic GodZILLa</p>
<p>mtab = Mount TABle</p>
<p>mv = MoVe</p>
<p>nano = Nano’s ANOther editor</p>
<p>nawk = New AWK</p>
<p>nl = Number of Lines</p>
<p>nm = names</p>
<p>nohup = No HangUP</p>
<p>nroff = New ROFF</p>
<p>od = Octal Dump</p>
<p>passwd = PASSWorD</p>
<p>pg = pager</p>
<p>pico = PIne’s message COmposition editor</p>
<p>pine = “Program for Internet News &amp; Email” = “Pine is not Elm”</p>
<p>ping = 拟声 又 = Packet InterNet Grouper</p>
<p>pirntcap = PRINTer CAPability</p>
<p>popd = POP Directory</p>
<p>pr = pre</p>
<p>printf = PRINT Formatted</p>
<p>ps = Processes Status</p>
<p>pty = pseudo tty</p>
<p>pushd = PUSH Directory</p>
<p>pwd = Print Working Directory</p>
<p>rc = runcom = run command, rc还是plan9的shell</p>
<p>rev = REVerse</p>
<p>rm = ReMove</p>
<p>rn = Read News</p>
<p>roff = RunOFF</p>
<p>rpm = RPM Package Manager = RedHat Package Manager</p>
<p>rsh, rlogin, rvim中的r = Remote</p>
<p>rxvt = ouR XVT</p>
<p>seamoneky = 我</p>
<p>sed = Stream EDitor</p>
<p>seq = SEQuence</p>
<p>shar = SHell ARchive</p>
<p>slrn = S-Lang rn</p>
<p>ssh = Secure SHell</p>
<p>ssl = Secure Sockets Layer</p>
<p>stty = Set TTY</p>
<p>su = Substitute User</p>
<p>svn = SubVersioN</p>
<p>tar = Tape ARchive</p>
<p>tcsh = TENEX C shell</p>
<p>tee = T (T形水管接口)</p>
<p>telnet = TEminaL over Network</p>
<p>termcap = terminal capability</p>
<p>terminfo = terminal information</p>
<p>tex = τέχνη的缩写，希腊文art</p>
<p>tr = traslate</p>
<p>troff = Typesetter new ROFF</p>
<p>tsort = Topological SORT</p>
<p>tty = TeleTypewriter</p>
<p>twm = Tom’s Window Manager</p>
<p>tz = TimeZone</p>
<p>udev = Userspace DEV</p>
<p>ulimit = User’s LIMIT</p>
<p>umask = User’s MASK</p>
<p>uniq = UNIQue</p>
<p>vi = VIsual = Very Inconvenient</p>
<p>vim = Vi IMproved</p>
<p>wall = write all</p>
<p>wc = Word Count</p>
<p>wine = WINE Is Not an Emulator</p>
<p>xargs = eXtended ARGuments</p>
<p>xdm = X Display Manager</p>
<p>xlfd = X Logical Font Description</p>
<p>xmms = X Multimedia System</p>
<p>xrdb = X Resources DataBase</p>
<p>xwd = X Window Dump</p>
<p>yacc = yet another compiler compiler</p>
<p>Fish = the Friendly Interactive SHell</p>
<p>su = Switch User</p>
<p>MIME = Multipurpose Internet Mail Extensions</p>
<p>ECMA = European Computer Manufacturers Association</p>
<h3 id="关机命令"><a href="#关机命令" class="headerlink" title="关机命令"></a>关机命令</h3><p>关机:half ,poweroff<br>重启:reboot<br>-f:强制,不调用shutdown<br>-p:切断电源<br>关机或重启:shutdown<br>shutdown [option]..time[message]<br>-r:reboot<br>-h:half<br>-c:cancel<br>time:无指定,默认为+1<br>now:立刻,相当于+0<br>+m:相对时间表示法,几分钟之后;<br>hh:mm相对时间表示法,指明具体时间</p>
<h3 id="查看命令"><a href="#查看命令" class="headerlink" title="查看命令"></a>查看命令</h3><p>whoami<br>who<br>w<br>nano</p>
<h3 id="远程协助命令"><a href="#远程协助命令" class="headerlink" title="远程协助命令"></a>远程协助命令</h3><p>screen -S<br>screen -x<br>exit<br>Ctrl +a,d<br>screen -ls<br>screen -r</p>
<h3 id="显示命令"><a href="#显示命令" class="headerlink" title="显示命令"></a>显示命令</h3><p>echo 显示<br>-E<br>-n<br>-e<br>\a<br>\b<br>\c<br>\n<br>\<br>shutdown -h +3<br>mount /dev/sr0 /mnt<br><code>反向单引号
&#39;&#39;双引号
&quot;&quot;单引号
$()或</code><br>括号扩展{}<br>tab命令补全<br>history历史记录</p>
<h3 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h3><p>whatis<br>command –help<br>man and info</p>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>文件和目录被组织成单根倒置树结构<br>文件系统从根目录下开始,用”/“表示<br>proc虚拟的,在硬盘上不存在<br>文件 区别大小写( 这是文件系统决定,微软的ntfs不存在,而linux的ext4大小写敏感)<br>以.开头的文件为隐藏文件<br>元数据:metadata(包含属性,权限,大小)每个文件都有自己的元数据,有指针指向到数据的真实内容.<br>数据:data(内容在硬盘上)<br>文件系统分成结构:LSB<br>文件名最长255个字节,文件系统不一样大小不一样<br>包括路径在内文件名称最长4095个字节<br>蓝色—目录 绿色—可执行文件  红色—压缩文件<br>浅蓝色—链接文件 灰色—其他文件 粉色是socket(套接字文件)双向传递<br>管道文件 p开头(pipe)单工传输</p>
<h3 id="文件系统结构元素"><a href="#文件系统结构元素" class="headerlink" title="文件系统结构元素"></a>文件系统结构元素</h3><p>/boot：引导文件存放目录，内核文件(vmlinuz)、引导加载器(bootloader, grub)都存放于此目录<br>/bin：供所有用户使用的基本命令；不能关联至独立分区，OS启动即会用到的 程序<br>/sbin：管理类的基本命令；不能关联至独立分区，OS启动即会用到的程序<br>/lib：启动时程序依赖的基本共享库文件以及内核模块文件(/lib/modules)<br>/lib64：专用于x86_64系统上的辅助共享库文件存放位置<br>/etc：配置文件目录<br>/home/USERNAME：普通用户家目录<br>/root：管理员的家目录<br>/media：便携式移动设备挂载点<br>/mnt：临时文件系统挂载点<br>/dev：设备文件及特殊文件存储位置  b: block device，随机访问  c: character device，线性访问<br>/opt：第三方应用程序的安装位置<br>/srv：系统上运行的服务用到的数据<br>/tmp：临时文件存储位置<br>/proc: 用于输出内核与进程信息相关的虚拟文件系统<br>/sys：用于输出当前系统上硬件设备相关信息虚拟文件系统<br>/selinux: security enhanced Linux，selinux相关的安全策略等信息的存储位置<br> 文<br>/usr: universal shared, read-only data  bin: 保证系统拥有完整功能而提供的应用程序<br>sbin:  lib：32位使用  lib64：只存在64位系统<br>include: C程序的头文件(header files)<br>share：结构化独立的数据，例如doc, man等<br>local：第三方应用程序的安装位置 bin, sbin, lib, lib64, etc, share 文</p>
<p>/var: variable data files  cache: 应用程序缓存数据目录<br>lib: 应用程序状态信息数据<br>local：专用于为/usr/local下的应用程序存储可变数据<br>lock: 锁文件  log: 日志目录及文件<br>opt: 专用于为/opt下的应用程序存储可变数据<br>run: 运行中的进程相关数据,通常用于存储进程pid文件<br>spool: 应用程序数据池<br>tmp: 保存系统两次重启之间产生的临时数据 </p>
<h3 id="Linux下的文件类型"><a href="#Linux下的文件类型" class="headerlink" title="Linux下的文件类型"></a>Linux下的文件类型</h3><p>-：普通文件<br>d: 目录文件<br>b: 块设备(硬盘,以块为单位,有缓存,一块一块写,有缓存区)<br>c: 字符设备(设备主要以字符为单位,键盘为主)<br>l: 符号链接文件<br>p: 管道文件pipe<br>s: 套接字文件socket</p>
<h3 id="显示当前工作目录"><a href="#显示当前工作目录" class="headerlink" title="显示当前工作目录"></a>显示当前工作目录</h3><p>每个shell和系统进程都有一个当前的工作目录<br>CWD:current work directory<br>显示当前shell CWD的绝对路径 pwd: printing working directory -P 显示真实物理路径 -L 显示链接路径（默认）</p>
<h3 id="更改目录"><a href="#更改目录" class="headerlink" title="更改目录"></a>更改目录</h3><p>cd  改变目录 使用绝对或相对路径： cd /home/wang/        cd home/wang 切换至父目录：  cd .. 切换至当前用户主目录： cd 切换至以前的工作目录： cd -<br>选项：-P<br>相关的环境变量：  PWD：当前目录路径   OLDPWD：上一次目录路径</p>
<h3 id="列出目录内容"><a href="#列出目录内容" class="headerlink" title="列出目录内容"></a>列出目录内容</h3><p>列出当前目录的内容或指定目录<br>用法：ls [options] [ files_or_dirs ]<br>示例: ls -a 包含隐藏文件 ls -l 显示额外的信息 ls -R  目录递归通过 ls -ld  目录和符号链接信息 ls -1  文件分行显示 ls –S  按从大到小排序 ls –t   按mtime排序 ls –u   配合-t选项，显示并按atime从新到旧排序 ls –U  按目录存放顺序显示 ls –X  按文件后缀排序</p>
<blockquote>
<p>[root@centos7 sysconfig]# ll /etc/motd<br>-rw-r–r–. 1 root root 15 Mar 21 03:19 /etc/motd<br>[root@centos7 sysconfig]# ll ../motd<br>-rw-r–r–. 1 root root 15 Mar 21 03:19 ../motd<br>-a 全部<br>-r 递归<br>ll 是别名 (ls -l)</p>
</blockquote>
<h3 id="查看文件状态"><a href="#查看文件状态" class="headerlink" title="查看文件状态"></a>查看文件状态</h3><p>stat<br>文件：metadata, data<br>三个时间戳: access time：访问时间，atime，读取文件内容<br>modify time: 修改时间,<br>mtime，改变文件内容（数据） change time: 改变时间, ctime，元数据发生改变<br>data 时间不会一直更新<br>通配符* 任意字符<br>二进制查看hexdump -C</p>
<h3 id="创建和查看文件"><a href="#创建和查看文件" class="headerlink" title="创建和查看文件"></a>创建和查看文件</h3><p>touch 命令是个外部命令<br>[]表示其中一个字母<br>[^  ]表示除去其中字符的任意字符<br>两个大于号比 touch安全</p>
<h3 id="文件统配符"><a href="#文件统配符" class="headerlink" title="文件统配符"></a>文件统配符</h3><p>man 7 glob</p>
<h3 id="复制和转移删除文件"><a href="#复制和转移删除文件" class="headerlink" title="复制和转移删除文件"></a>复制和转移删除文件</h3><p>cp [OPTION]… [-T] SOURCE DEST外部命令 现在的cp是别名 元数据会丢失<br>原始命令前加\<br>拷贝文件夹 -r(递归)<br>cp 有可能丢失数据不能用rmdir删除</p>
<p>data是个挂载点<br>cp [OPTION]… SOURCE… DIRECTORY cp [OPTION]… -t DIRECTORY SOURCE… cp SRC DEST SRC是文件：如果目标不存在：新建DEST，并将SRC中内容填充至DEST中      如果目标存在： 如果DEST是文件：将SRC中的内容覆盖至DEST中  基于安全，建议为cp命令使用-i选项 如果DEST是目录：在DEST下新建与原文件同名的文件，并将SRC中内容填 充至新文件中<br>cp SRC… DEST    SRC…：多个文件      DEST必须存在，且为目录，其它情形均会出错； cp SRC DEST     SRC是目录：此时使用选项：-r        如果DEST不存在：则创建指定目录，复制SRC目录中所有文件至DEST中；        如果DEST存在：          如果DEST是文件：报错          如果DEST是目录：<br>inode（index node）表中包含文件系统所有文件列表<br>一个节点 （索引节点）是在一个表项，包含有关文件的信息（ 元数据 ），包 括：  文件类型，权限，UID，GID  链接数（指向这个文件名路径名称个数）  该文件的大小和不同的时间戳  指向磁盘上文件的数据块指针  有关文件的其他数据 </p>
<p>inode 唯一标识在元数据里<br>删除其实删的元数据.删文件比建文件快多了</p>
<h3 id="软和硬链接"><a href="#软和硬链接" class="headerlink" title="软和硬链接"></a>软和硬链接</h3><p>硬链接<br>创建硬链接会增加额外的记录项以引用文件<br>对应于同一文件系统上一个物理文件<br>每个目录引用相同的inode号<br>创建时链接数递增<br>删除文件时：<br>rm命令递减计数的链接<br>文件要存在，至少有一个链接数<br>当链接数为零时，该文件被删除<br>不能跨越驱动器或分区<br>语法:  ln filename  [linkname ]<br>软连接<br>一个符号文件链接指向一个文件<br>ls -s显示链接的名称和应用的文件<br>一个符号链接的内容是他引用文件的名称<br>可以对目录进行<br>可以跨分区<br>指向的是另一个文件的路径;其大小为指向的路径字符串的长度;不增加或减少目标文件inode的引用计数<br>语法:ln -s 文件 链接名</p>
<h3 id="i-0-重定向至文件"><a href="#i-0-重定向至文件" class="headerlink" title="i/0 重定向至文件"></a>i/0 重定向至文件</h3><p>程序:指令+数据<br>input 和output<br>打开的文件都有一个fd:file descrptor(文件描述符)<br>linux 给程序提供三种i/o设备<br>标准输入(STDIN)-0 默认接受来自键盘的输入<br>标准输出(STDOUT) -1默认输出到终端窗口<br>标准错误(STDERR) -2 默认输出到窗口<br>i/o重定向:改变默认位置<br>语法:命令  操作符号 文件名<br>操作符&gt;把STDOUT重定向到文件<br>2&gt; 把STDERR重定向到文件<br>$&gt; 把所有输出重定向到文件<br>tr 转换和删除字符</p>
<h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><p>管道用来连接命令<br>命令1|命令2|命令3<br>将命令1的STDOUT发送给命令2的STDIN,命令2的STDOUT发送给命令3的STDIN<br>less 一页一页地查看输入<br>重定向到多个目标(tee)<br>把命令1的STDOUT保存在文件中,作为命令2的输入<br>-a追加<br>使用:<br>保存不同阶段的输入<br>复杂管道的故障排除<br>同时查看和记录输出</p>
<h2 id="用户组权限"><a href="#用户组权限" class="headerlink" title="用户组权限"></a>用户组权限</h2><h3 id="用户user"><a href="#用户user" class="headerlink" title="用户user"></a>用户user</h3><p>令牌token,identity<br>linux用户:username/UID<br>管理员:root,0<br>普通用户:1-65535<br> 系统用户:1-499,1-999<br> 对守护进程获取资源进行权限进行分配<br> 登录用户:500+,1000<br> 交互式登录<br>nologin 是软件启动没有用户登录</p>
<h3 id="组group"><a href="#组group" class="headerlink" title="组group"></a>组group</h3><p>linux:Groupname/GID<br>管理员:<br>系统 :1-499,1-999<br>普通组:500+,1000+<br>安全上下文:<br>进行中的程序:程序(process)<br>以进程发起者的身份运行:<br>root:/bin/cat<br>mage:/bin/cat<br>组的类别<br>用户的主要组:<br>用户必须属于一个且只有一个主组<br>组名同用户名,且包含一个用户,私有组<br>用户和组的配置文件<br>/etc/passwd:用户及其属性信息<br>/etc/group:组及其属性信息<br>/etc/shadow:用户密码及其相关属性<br>/etc/gshadow:组密码及其相关属性<br>passwd文件格式<br>login name:登录用名<br>passwd:密码<br>UID:用户身份编号<br>GID:登录默认所在组编号<br>GECOS:用户全名或注释<br>home diretory:用户主目录<br>shell:用户默认使用shell<br>shadow文件格式<br>useradd usermod userdel<br>组账号维护命令:groupadd<br>groupmod groupdel</p>
<h3 id="用户创建-useradd"><a href="#用户创建-useradd" class="headerlink" title="用户创建:useradd"></a>用户创建:useradd</h3><p>useradd [options]LOGIN<br>-u UID<br>-o 配合-u选项,不检查UID的唯一性<br>-g GID:指明用户所属基本组,可谓组名,也可以GID<br>-c “COMMENT”:用户的注释信息<br>默认设置:/etc/default/useradd文件中<br>删除用户:userdel -r删除用户目录</p>
<h3 id="查看用户相关的ID信息"><a href="#查看用户相关的ID信息" class="headerlink" title="查看用户相关的ID信息"></a>查看用户相关的ID信息</h3><p>id [OPTIONS]…[USER]<br>-u :显示UID<br>-g :显示GID<br>-G :显示用户所属的组的ID<br>-n :显示名称,需配合ugG使用</p>
<h3 id="切换用户或以其他用户身份执行命令"><a href="#切换用户或以其他用户身份执行命令" class="headerlink" title="切换用户或以其他用户身份执行命令"></a>切换用户或以其他用户身份执行命令</h3><p>su[options] [-] [user[args…]]<br>切换用户的方式<br>ssh root@ip<br>curl ww<br>service network restat</p>
<h3 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h3><p>passwd<br>常用选项：<br> -d:删除指定用户密码<br> -l:锁定指定用户<br> -u:解锁指定用户<br> -e:强制用户下次登录修改密码<br> -f: 强制操作<br> -n mindays: 指定最短使用期限<br> -x maxdays：最大使用期限<br> -w warndays：提前多少天开始警告<br> -i inactivedays：非活动期限<br> –stdin：从标准输入接收用户密码<br> echo “PASSWORD” | passwd –stdin USERNAME</p>
<h3 id="创建组"><a href="#创建组" class="headerlink" title="创建组"></a>创建组</h3><p>groupadd[option]…group_name<br>-g GID:指明GID号:<br>-r:创建系统组<br>修改和删除组:<br>组属性修改:groupmod<br>组删除:groupdel<br>组密码:gpasswd<br>newgrp命令:临时切换主组<br>chown设置文件的所有者<br>chgrp设置文件的属组信息<br>修改文件的属主和属组chown<br>修改文件的属组:chgrp</p>
<h3 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h3><p>文件的权限主要针对三类对象进行定义<br>owner: 属主, u<br>group: 属组, g<br>other: 其他, o<br>每个文件针对每类访问者都定义了三种权限<br>r: Readable<br>w: Writable<br>x: eXcutable</p>
<h3 id="修改文件权限"><a href="#修改文件权限" class="headerlink" title="修改文件权限"></a>修改文件权限</h3><p>chmod [OPTION]… OCTAL-MODE FILE…<br> -R: 递归修改权限<br>chmod [OPTION]… MODE[,MODE]… FILE…<br> MODE：<br> 修改一类用户的所有权限：<br> u= g= o= ug= a= u=,g=<br> 修改一类用户某位或某些位权限<br> u+ u- g+ g- o+ o- a+ a- + -<br>chmod [OPTION]… –reference=RFILE FILE…<br>参考RFILE文件的权限，将FILE的修改为同RFILE<br>数字权限法:chmod数字 file<br>rwx r-x r– file<br>111</p>
<h2 id="文本工具"><a href="#文本工具" class="headerlink" title="文本工具"></a>文本工具</h2><h3 id="抽取文本的工具"><a href="#抽取文本的工具" class="headerlink" title="抽取文本的工具"></a>抽取文本的工具</h3><p>文件内容:less和cat<br>文件截取:head和tail<br>按列抽取:cut<br>按关键字抽取:grep<br>文件查看:cat tac rev<br>分页查看:more<br>一页一页的查看:less<br>less 命令是man命令使用的分页器</p>
<h3 id="显示文本前后或后行内容"><a href="#显示文本前后或后行内容" class="headerlink" title="显示文本前后或后行内容"></a>显示文本前后或后行内容</h3><p>head[option]…[FILE]默认看文本前10行,配合管道可以看命令前两行<br>tail[option]…[FILE]看文本尾<br>tail-f 跟踪看日志<br>cut命令取字段<br>past 横着合并文件<br>wc 收集文本</p>
<h3 id="文本排序sort"><a href="#文本排序sort" class="headerlink" title="文本排序sort"></a>文本排序sort</h3><p>把整理过的文本显示在STDOUT,不改变原始文件<br>sort[opiton]file(s)<br>uniq:从输入中删除前后相接的重复的行,处理日志<br>liunx:文本处理三剑客<br>grep:文本过滤,文本搜索 逐行匹配符合条件的字符 现在用的grep是个别名 输出变红<br>sed:stream editor, 文本编辑工具<br>awk:liunx上的实现gawk,文本报告生成器<br>grep作用:文本搜索工具,根据用户指定的模式对目标文本逐行进行匹配检查;打印匹配到行</p>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>匹配次数:用在要指定次数的字符后面,用于指定前面字符的次数<br>位置锚定:定位</p>
<h2 id="软件管理"><a href="#软件管理" class="headerlink" title="软件管理"></a>软件管理</h2><p>包管理器<br>二进制应用程序的组成部分：  二进制文件、库文件、配置文件、帮助文件<br>程序包管理器：debian：deb文件, dpkg包管理器  redhat: rpm文件, rpm包管理器  rpm: Redhat Package Manager   RPM  Package Manager </p>
<p>包命名<br>源代码：name-VERSION.tar.gz|bz2|xz  VERSION: major.minor.release<br>rpm包命名方式：  name-VERSION-release.arch.rpm  例：bash-4.2.46-19.el7.x86_64.rpm  VERSION: major.minor.release  release：release.OS  常见的arch：  x86: i386, i486, i586, i686  x86_64: x64, x86_64, amd64  powerpc: ppc  跟平台无关：noarch<br>包命名和工具<br>包：分类和拆包  Application-VERSION-ARCH.rpm: 主包  Application-devel-VERSION-ARCH.rpm 开发子包  Application-utils-VERSION-ARHC.rpm 其它子包  Application-libs-VERSION-ARHC.rpm 其它子包<br>包之间：可能存在依赖关系，甚至循环依赖 解决依赖包管理工具：  yum：rpm包管理器的前端工具  apt-get：deb包管理器前端工具  zypper: suse上的rpm前端管理工具  dnf: Fedora 18+ rpm包管理器前端管理工具<br>库文件<br>查看二进制程序所依赖的库文件  ldd /PATH/TO/BINARY_FILE<br>管理及查看本机装载的库文件  ldconfig 加载库文件  /sbin/ldconfig -p: 显示本机已经缓存的所有可用库文件名及文件 路径映射关系  配置文件：/etc/ld.so.conf, /etc/ld.so.conf.d/*.conf  缓存文件：/etc/ld.so.cache </p>
<p>包管理器<br>程序包管理器：  功能：将编译好的应用程序的各组成文件打包一个或几个程序包文件，从而 方便快捷地实现程序包的安装、卸载、查询、升级和校验等管理操作<br>包文件组成 (每个包独有)  RPM包内的文件  RPM的元数据，如名称，版本，依赖性，描述等  安装或卸载时运行的脚本<br>数据库(公共)：/var/lib/rpm  程序包名称及版本  依赖关系  功能说明  包安装后生成的各文件路径及校验码信息<br>程序包的来源<br>管理程序包的方式：  使用包管理器：rpm  使用前端工具：yum, dnf<br>获取程序包的途径：  (1) 系统发版的光盘或官方的服务器；   CentOS镜像：   <a href="https://www.centos.org/download/" target="_blank" rel="noopener">https://www.centos.org/download/</a>   <a href="http://mirrors.aliyun.com" target="_blank" rel="noopener">http://mirrors.aliyun.com</a>   <a href="http://mirrors.sohu.com" target="_blank" rel="noopener">http://mirrors.sohu.com</a>   <a href="http://mirrors.163.com" target="_blank" rel="noopener">http://mirrors.163.com</a>  (2) 项目官方站点<br>程序包的来源<br>(3) 第三方组织：  Fedora-EPEL：   Extra Packages for Enterprise Linux  Rpmforge:RHEL推荐，包很全  搜索引擎：   <a href="http://pkgs.org" target="_blank" rel="noopener">http://pkgs.org</a>   <a href="http://rpmfind.net" target="_blank" rel="noopener">http://rpmfind.net</a>   <a href="http://rpm.pbone.net" target="_blank" rel="noopener">http://rpm.pbone.net</a>   <a href="https://sourceforge.net/" target="_blank" rel="noopener">https://sourceforge.net/</a> (4) 自己制作 注意：第三方包建议要检查其合法性  来源合法性,程序包的完整性 </p>
<p>rpm包管理<br>CentOS系统上使用rpm命令管理程序包：  安装、卸载、升级、查询、校验、数据库维护  安装：  rpm {-i|–install} [install-options] PACKAGE_FILE…    -v: verbose   -vv:    -h: 以#显示程序包管理执行进度  rpm -ivh PACKAGE_FILE … </p>
<p>rpm包安装<br>[install-options]  –test: 测试安装，但不真正执行安装，即dry run模式  –nodeps：忽略依赖关系  –replacepkgs | replacefiles  –nosignature: 不检查来源合法性  –nodigest：不检查包完整性  –noscripts：不执行程序包脚本   %pre: 安装前脚本； –nopre   %post: 安装后脚本； –nopost   %preun: 卸载前脚本； –nopreun   %postun: 卸载后脚本；  –nopostun<br>rpm包升级<br>升级： rpm {-U|–upgrade} [install-options] PACKAGE_FILE… rpm {-F|–freshen} [install-options] PACKAGE_FILE…  upgrade：安装有旧版程序包，则“升级”       如果不存在旧版程序包，则“安装”  freshen：安装有旧版程序包，则“升级”       如果不存在旧版程序包，则不执行升级操作  rpm -Uvh PACKAGE_FILE …  rpm -Fvh PACKAGE_FILE …  –oldpackage：降级  –force: 强制安装 </p>
<p>升级注意项<br>注意： (1) 不要对内核做升级操作；Linux支持多内核版本并存，因此，对直接安装新版 本内核 (2) 如果原程序包的配置文件安装后曾被修改，升级时，新版本的提供的同一个配 置文件并不会直接覆盖老版本的配置文件，而把新版本的文件重命名 (FILENAME.rpmnew)后保留<br>包查询<br>rpm {-q|–query} [select-options] [query-options] [select-options]  -a: 所有包  -f: 查看指定的文件由哪个程序包安装生成  -p rpmfile：针对尚未安装的程序包文件做查询操作  –whatprovides CAPABILITY：查询指定的CAPABILITY由哪个包所提供  –whatrequires CAPABILITY：查询指定的CAPABILITY被哪个包所依赖 rpm2cpio 包文件|cpio –itv  预览包内文件 rpm2cpio 包文件|cpio –id  “*.conf” 释放包内文件 </p>
<p>包查询<br>[query-options]  –changelog：查询rpm包的changelog  -c: 查询程序的配置文件  -d: 查询程序的文档  -i: information  -l: 查看指定的程序包安装后生成的所有文件  –scripts：程序包自带的脚本  –provides: 列出指定程序包所提供的CAPABILITY  -R: 查询指定的程序包所依赖的CAPABILITY </p>
<p>包查询<br>常用查询用法：  -qi PACKAGE, -qf FILE, -qc PACKAGE, -ql PACKAGE, -qd PACKAGE  -qpi PACKAGE_FILE, -qpl PACKAGE_FILE, …  -qa<br>包卸载：  rpm {-e|–erase} [–allmatches] [–nodeps] [–noscripts] [–notriggers] [–test] PACKAGE_NAME … </p>
<p>包校验<br>rpm {-V|–verify} [select-options] [verify-options]  S file Size differs  M Mode differs (includes permissions and file type)  5 digest (formerly MD5 sum) differs  D Device major/minor number mismatch  L readLink(2) path mismatch  U User ownership differs  G Group ownership differs  T mTime differs  P capabilities differ<br>包校验<br>包来源合法性验正及完整性验正  完整性验正：SHA256  来源合法性验正：RSA 公钥加密  对称加密：加密、解密使用同一密钥  非对称加密：密钥是成对儿的   public key: 公钥，公开所有人   secret key: 私钥, 不能公开  导入所需要公钥  rpm  -K|checksig  rpmfile  检查包的完整性和签名  rpm –import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7  CentOS 7发行版光盘提供：RPM-GPG-KEY-CentOS-7  rpm -qa “gpg-pubkey*” </p>
<p>rpm数据库<br>数据库重建：  /var/lib/rpm rpm {–initdb|–rebuilddb}  initdb: 初始化   如果事先不存在数据库，则新建之   否则，不执行任何操作  rebuilddb：重建已安装的包头的数据库索引目录   </p>
<p>yum<br>CentOS: yum, dnf YUM: Yellowdog Update Modifier，rpm的前端程序，可解决软件包相关依 赖性，可在多个库之间定位软件包，up2date的替代工具  yum repository: yum repo，存储了众多rpm包，以及包的相关的元数据 文件（放置于特定目录repodata下）  文件服务器：   http://   https://   ftp://   file:// </p>
<p>yum配置文件<br>yum客户端配置文件：  /etc/yum.conf：为所有仓库提供公共配置  /etc/yum.repos.d/*.repo：为仓库的指向提供配置  仓库指向的定义：   [repositoryID]   name=Some name for this repository   baseurl=url://path/to/repository/   enabled={1|0}   gpgcheck={1|0}   gpgkey=URL   enablegroups={1|0}   failovermethod={roundrobin|priority}    roundrobin：意为随机挑选，默认值    priority:按顺序访问   cost=   默认为1000<br>yum仓库<br>yum的repo配置文件中可用的变量：  $releasever: 当前OS的发行版的主版本号  $arch: 平台，i386,i486,i586,x86_64等  $basearch：基础平台；i386, x86_64  $YUM0-$YUM9:自定义变量 实例:  <a href="http://server/centos/$releasever/$basearch/" target="_blank" rel="noopener">http://server/centos/$releasever/$basearch/</a>  <a href="http://server/centos/7/x86_64" target="_blank" rel="noopener">http://server/centos/7/x86_64</a>  <a href="http://server/centos/6/i384" target="_blank" rel="noopener">http://server/centos/6/i384</a><br>yum源<br>阿里云repo文件：         <a href="http://mirrors.aliyun.com/repo/" target="_blank" rel="noopener">http://mirrors.aliyun.com/repo/</a> CentOS系统的yum源 阿里云：<a href="https://mirrors.aliyun.com/centos/$releasever/os/x86_64/" target="_blank" rel="noopener">https://mirrors.aliyun.com/centos/$releasever/os/x86_64/</a> EPEL的yum源:  阿里云：<a href="https://mirrors.aliyun.com/epel/$releasever/x86_64" target="_blank" rel="noopener">https://mirrors.aliyun.com/epel/$releasever/x86_64</a> </p>
<p>yum命令<br>yum命令的用法：  yum [options] [command] [package …]<br>显示仓库列表：  yum repolist [all|enabled|disabled]<br>显示程序包：  yum list  yum list [all | glob_exp1] [glob_exp2] […]  yum list {available|installed|updates} [glob_exp1] […] 安装程序包：  yum install package1 [package2] […]  yum reinstall package1 [package2] […]  (重新安装)<br>yum命令<br>升级程序包：  yum update [package1] [package2] […]  yum downgrade package1 [package2] […] (降级)<br>检查可用升级：  yum check-update<br>卸载程序包：  yum remove | erase package1 [package2] […]<br>yum命令<br>查看程序包information：  yum info […]<br>查看指定的特性(可以是某文件)是由哪个程序包所提供：  yum provides | whatprovides feature1 [feature2] […]<br>清理本地缓存：  清除/var/cache/yum/$basearch/$releasever缓存  yum clean [ packages | metadata | expire-cache | rpmdb | plugins | all ]<br>构建缓存：  yum makecache<br>yum命令<br>搜索：yum search string1 [string2] […]  以指定的关键字搜索程序包名及summary信息<br>查看指定包所依赖的capabilities：  yum deplist package1 [package2] […]<br>查看yum事务历史：  yum history [info|list|packages-list|packages-info|  summary|addon-info|redo|undo|  rollback|new|sync|stats]  yum history  yum history info 6  yum history undo 6<br>日志 ：/var/log/yum.log </p>
<p>yum命令<br>安装及升级本地程序包：  yum localinstall rpmfile1 [rpmfile2] […]      (用install替代)  yum localupdate rpmfile1 [rpmfile2] […]      (用update替代) 包组管理的相关命令：  yum groupinstall group1 [group2] […]   yum groupupdate group1 [group2] […]   yum grouplist [hidden] [groupwildcard] […]   yum groupremove group1 [group2] […]   yum groupinfo group1 […]<br>yum命令<br>yum的命令行选项：  –nogpgcheck：禁止进行gpg check  -y: 自动回答为“yes”  -q：静默模式  –disablerepo=repoidglob：临时禁用此处指定的repo  –enablerepo=repoidglob：临时启用此处指定的repo  –noplugins：禁用所有插件<br>系统光盘yum仓库<br>系统安装光盘作为本地yum仓库：(1) 挂载光盘至某目录，例如/mnt/cdrom   mount /dev/cdrom /mnt/cdrom<br>(2) 创建配置文件   [CentOS7]   name=   baseurl=   gpgcheck=   enabled= 创建yum仓库：  createrepo [options] <directory> </directory></p>
<p>程序包编译<br>程序包编译安装： Application-VERSION-release.src.rpm –&gt; 安装后，使用rpmbuild命令制作 成二进制格式的rpm包，而后再安装 源代码–&gt;预处理–&gt;编译–&gt;汇编–&gt;链接–&gt;执行<br>源代码组织格式：  多文件：文件中的代码之间，很可能存在跨文件依赖关系  C、C++：make 项目管理器   configure脚本 –&gt; Makefile.in –&gt; Makefile  java: maven </p>
<p>编译安装<br>C语言源代码编译安装三步骤：   1、./configure   (1) 通过选项传递参数，指定启用特性、安装路径等；执行时会参考用户的 指定以及Makefile.in文件生成Makefile   (2) 检查依赖到的外部环境，如依赖的软件包   2、make  根据Makefile文件，构建应用程序   3、make install  复制文件到相应路径<br>开发工具：    autoconf: 生成configure脚本    automake：生成Makefile.in 注意：安装前查看INSTALL，README<br>编译安装<br>开源程序源代码的获取：  官方自建站点：      apache.org (ASF：Apache Software Foundation)      mariadb.org     …    代码托管：      SourceForge.net      Github.com      code.google.com c/c++编译器: gcc (GNU C Complier)<br>编译安装<br>编译C源代码：  准备：提供开发工具及开发环境   开发工具：make, gcc等   开发环境：开发库，头文件    glibc：标准库  实现：通过“包组”提供开发组件   Development Tools   Server Platform Development    </p>
<p>编译安装 第一步：configure脚本      选项：指定安装位置、指定启用的特性      –help: 获取其支持使用的选项     选项分类：      安装路径设定：      –prefix=/PATH: 指定默认安装位置,默认为/usr/local/      –sysconfdir=/PATH：配置文件安装位置      System types:支持交叉编译<br>编译安装<br>Optional Features: 可选特性   –disable-FEATURE  –enable-FEATURE[=ARG] Optional Packages: 可选包      –with-PACKAGE[=ARG],依赖包      –without-PACKAGE,禁用依赖关系 注意：通常被编译操作依赖的程序包，需要安装此程序包的“开发”组件， 其包名一般类似于name-devel-VERSION </p>
<p>第二步：make 第三步：make install<br>编译安装<br>安装后的配置：(1) 二进制程序目录导入至PATH环境变量中   编辑文件/etc/profile.d/NAME.sh export PATH=/PATH/TO/BIN:$PATH<br>(2) 导入帮助手册  编辑/etc/man.config|man_db.conf文件   添加一个MANPATH </p>
<h2 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h2><p>程序：指令+数据<br>程序编程风格：<br>过程式：以指令为中心，数据服务于指令<br>对象式：以数据为中心，指令服务于数据<br>shell程序：提供了编程能力，解释执行<br>编程基本概念<br>编程逻辑处理方式：<br>顺序执行<br>循环执行<br>选择执行<br>shell编程：过程式、解释执行<br>编程语言的基本结构：<br> 各种系统命令的组合<br> 数据存储：变量、数组<br> 表达式: a + b<br> 语句:if<br>shell脚本基础<br>shell脚本:<br>包含一些命令或声明，并符合一定格式的文本文<br>创建shell脚本<br>第一步：使用文本编辑器来创建文本文件<br>第一行必须包括shell声明序列：#!</p>
<p>#!/bin/bash<br>添加注释<br> 注释以#开头<br>第二步：运行脚本<br>给予执行权限，在命令行上指定脚本的绝对或相对路径<br>直接运行解释器，将脚本作为解释器程序的参数运行<br>脚本规范<br>脚本代码开头约定<br>1、第一行一般为调用使用的语言<br>2、程序名，避免更改文件名为无法找到正确的文件<br>3、版本号<br>4、更改后的时间<br>5、作者相关信息<br>6、该程序的作用，及注意事项<br>7、最后是各版本的更新简要说明<br>脚本的基本结构<br>脚本的基本结构</p>
<p>#!SHEBANG<br>CONFIGURATION_VARIABLES<br>FUNCTION_DEFINITIONS<br>MAIN_CODE<br>shell脚本示例</p>
<p>echo “hello world”<br>脚本调试<br>检测脚本中的语法错误<br>bash -n /path/to/some_script<br>调试执行<br>bash -x /path/to/some_script<br>变量<br>变量：命名的内存空间<br>数据存储方式：<br> 字符：<br> 数值：整型，浮点型<br>变量：变量类型<br>作用：<br>1、数据存储格式<br>2、参与的运算<br>3、表示的数据范围<br>类型：<br>字符<br>数值：整型、浮点型<br>变量<br>变量命名法则：<br>1、不能使程序中的保留字：例如 if, for<br>2、只能使用数字、字母及下划线，且不能以数字开头<br>3、见名知义<br>4、统一命名规则：驼峰命名法，建议大写<br>bash中变量的种类<br>根据变量的生效范围等标准划分下面变量类型：<br>局部变量：生效范围为当前shell进程；对当前shell之外的其它shell进程，<br>包括当前shell的子shell进程均无效<br>环境（全局）变量：生效范围为当前shell进程及其子进程<br>本地变量：生效范围为当前shell进程中某代码片断，通常指函数<br>位置变量：$1, $2, …来表示，用于让脚本在脚本代码中调用通过命令行传<br>递给它的参数<br>特殊变量：$?, $0, $<em>, $@, $#,$$<br>局部变量<br>变量赋值：name=‘value’<br>可以使用引用value:<br>(1) 可以是直接字串; name=“root”<br>(2) 变量引用：name=”$USER”<br>(3) 命令引用：name=<code>COMMAND</code> name=$(COMMAND)<br>变量引用：${name} $name<br>“”：弱引用，其中的变量引用会被替换为变量值<br>‘’：强引用，其中的变量引用不会被替换为变量值，而保持原字符串<br>显示已定义的所有变量：set<br>删除变量：unset name<br>环境变量<br>变量声明、赋值：<br>export name=VALUE<br>declare -x name=VALUE<br>变量引用：$name, ${name}<br>显示所有环境变量：<br>env<br>printenv<br>export<br>declare -x<br>删除变量：<br>unset name<br>环境变量<br>bash内建的环境变量：<br>PATH<br>SHELL<br>USER<br>UID<br>HOME<br>PWD<br>SHLVL<br>LANG<br> MAIL<br>HOSTNAME<br>HISTSIZE<br>—<br>只读和位置变量<br>只读变量：只能声明，但不能修改和删除<br> 声明只读变量：<br>readonly name<br>declare -r name<br> 查看只读变量：<br>readonly –p<br> 位置变量：在脚本代码中调用通过命令行传递给脚本的参数<br>$1, $2, …：对应第1、第2等参数，shift [n]换位置<br>$0: 命令本身<br>$</em>: 传递给脚本的所有参数，全部参数合为一个字符串<br>$@: 传递给脚本的所有参数，每个参数为独立字符串<br>$#: 传递给脚本的参数的个数<br>$@ $<em> 只在被双引号包起来的时候才会有差异<br>set – 清空所有位置变量<br>退出状态<br>进程使用退出状态来报告成功或失败<br>• 0 代表成功，1－255代表失败<br>• $? 变量保存最近的命令退出状态<br>例如：<br>ping -c1 -W1 hostdown &amp;&gt; /dev/null<br>echo $?<br>退出状态码<br>bash自定义退出状态码<br> exit [n]：自定义退出状态码<br> 注意：脚本中一旦遇到exit命令，脚本会立即终止；终止退出状态取决于exit命<br>令后面的数字<br> 注意：如果未给脚本指定退出状态码，整个脚本的退出状态码取决于脚本中执<br>行的最后一条命令的状态码<br>算术运算<br>bash中的算术运算:help let<br>+, -, </em>, /, %取模（取余）, *<em>（乘方）<br>实现算术运算：<br>(1) let var=算术表达式<br>(2) var=$[算术表达式]<br>(3) var=$((算术表达式))<br>(4) var=$(expr arg1 arg2 arg3 …)<br>(5) declare –i var = 数值<br>(6) echo ‘算术表达式’ | bc<br>乘法符号有些场景中需要转义，如</em><br>bash有内建的随机数生成器：RANDOM（0-32767）<br>echo $[$RANDOM%50] ：0-49之间随机数<br>赋值<br>增强型赋值：<br>+=, -=, *=, /=, %=<br>let varOPERvalue<br>例如:let count+=3<br> 自加3后自赋值<br>自增，自减：<br>let var+=1<br>let var++<br>let var-=1<br>let var–<br>逻辑运算<br>true, false<br>1, 0<br>与：<br>1 与 1 = 1<br>1 与 0 = 0<br>0 与 1 = 0<br>0 与 0 = 0<br>或:<br>1 或 1 = 1<br>1 或 0 = 1<br>0 或 1 = 1<br>0 或 0 = 0<br>逻辑运算<br>非：！<br>! 1 = 0<br>! 0 = 1<br>短路运算<br>短路与<br>第一个为0，结果必定为0<br>第一个为1，第二个必须要参与运算<br> 短路或<br>第一个为1，结果必定为1<br>第一个为0，第二个必须要参与运算<br>异或：^<br> 异或的两个值,相同为假，不同为真<br>条件测试<br>判断某需求是否满足，需要由测试机制来实现<br> 专用的测试表达式需要由测试命令辅助完成测试过程<br>评估布尔声明，以便用在条件性执行中<br>• 若真，则返回0<br>• 若假，则返回1<br>测试命令：<br>• test EXPRESSION<br>• [ EXPRESSION ]<br>• [[ EXPRESSION ]]<br> 注意：EXPRESSION前后必须有空白字符<br>bash的数值测试<br>-v VAR<br>变量VAR是否设置<br>数值测试：<br>-gt 是否大于<br>-ge 是否大于等于<br>-eq 是否等于<br>-ne 是否不等于<br>-lt 是否小于<br>-le 是否小于等于<br>bash的字符串测试<br>字符串测试：<br>== 是否等于</p>
<blockquote>
<p>ascii码是否大于ascii码<br>&lt; 是否小于<br>!= 是否不等于<br>=~ 左侧字符串是否能够被右侧的PATTERN所匹配<br> 注意: 此表达式一般用于[[ ]]中；扩展的正则表达式<br> -z “STRING“ 字符串是否为空，空为真，不空为假<br> -n “STRING“ 字符串是否不空，不空为真，空为假<br>注意：用于字符串比较时的用到的操作数都应该使用引号<br>Bash的文件测试<br>存在性测试<br>-a FILE：同-e<br>-e FILE: 文件存在性测试，存在为真，否则为假<br>存在性及类别测试<br>-b FILE：是否存在且为块设备文件<br>-c FILE：是否存在且为字符设备文件<br>-d FILE：是否存在且为目录文件<br>-f FILE：是否存在且为普通文件<br>-h FILE 或 -L FILE：存在且为符号链接文件<br>-p FILE：是否存在且为命名管道文件<br>-S FILE：是否存在且为套接字文件<br>Bash的文件权限测试<br>文件权限测试：<br>-r FILE：是否存在且可读<br>-w FILE: 是否存在且可写<br>-x FILE: 是否存在且可执行<br>文件特殊权限测试：<br>-u FILE：是否存在且拥有suid权限<br>-g FILE：是否存在且拥有sgid权限<br>-k FILE：是否存在且拥有sticky权限<br>Bash的文件属性测试<br>文件大小测试：<br>-s FILE: 是否存在且非空<br>文件是否打开：<br>-t fd: fd 文件描述符是否在某终端已经打开<br>-N FILE：文件自从上一次被读取之后是否被修改过<br>-O FILE：当前有效用户是否为文件属主<br>-G FILE：当前有效用户是否为文件属组<br>Bash的文件属性测试<br>双目测试：<br>FILE1 -ef FILE2: FILE1是否是FILE2的硬链接<br>FILE1 -nt FILE2: FILE1是否新于FILE2（mtime）<br>FILE1 -ot FILE2: FILE1是否旧于FILE2<br>Bash的组合测试条件<br>第一种方式：<br>EXPRESSION1 -a EXPRESSION2 并且<br>EXPRESSION1 -o EXPRESSION2 或者<br>! EXPRESSION<br> 必须使用测试命令进行<br>第二种方式：<br>COMMAND1 &amp;&amp; COMMAND2 并且<br>COMMAND1 || COMMAND2 或者<br>! COMMAND 非<br>如：[[ -r FILE ]] &amp;&amp; [[ -w FILE ]]<br>逻辑组合<br>根据退出状态而定，命令可以有条件地运行<br>• &amp;&amp; 代表条件性的AND THEN<br>• || 代表条件性的OR ELSE<br>示例<br> test “$A” == “$B” &amp;&amp; echo “Strings are equal”<br> test “$A” -eq “$B” &amp;&amp; echo “Integers are equal“<br> [ “$A” == “$B” ] &amp;&amp; echo “Strings are equal”<br>[ “$A” -eq “$B” ] &amp;&amp; echo “Integers are equal“<br> [ -f /bin/cat -a -x /bin/cat ] &amp;&amp; cat /etc/fstab<br>[ -z “$HOSTNAME” -o $HOSTNAME “==\<br>“localhost.localdomain” ] &amp;&amp; hostname <a href="http://www.magedu.com" target="_blank" rel="noopener">www.magedu.com</a><br>条件性的执行操作符<br>示例：<br>grep -q no_such_user /etc/passwd || echo ‘No such user’<br>No such user<br>ping -c1 -W2 station1 &amp;&gt; /dev/null \<br>&amp;&amp; echo “station1 is up” \<br>|| (echo ‘station1 is unreachable’; exit 1)<br>station1 is up<br>使用read命令来接受输入<br>使用read来把输入值分配给一个或多个shell变量<br>-p 指定要显示的提示<br>-s 静默输入，一般用于密码<br>-n N 指定输入的字符长度N<br>-d ‘字符’ 输入结束符<br>-t N TIMEOUT为N秒<br>read 从标准输入中读取值，给每个单词分配一个变量<br>所有剩余单词都被分配给最后一个变量<br>read -p “Enter a filename: “ FILE<br>流程控制<br>过程式编程语言：<br>顺序执行<br>选择执行<br>循环执行<br>条件选择if语句<br>选择执行：<br>注意：if语句可嵌套<br>单分支<br>if 判断条件;then<br>条件为真的分支代码<br>fi<br>双分支<br>if 判断条件; then<br>条件为真的分支代码<br>else<br>条件为假的分支代码<br>fi<br>if 语句<br>多分支<br>if 判断条件1; then<br>条件为真的分支代码<br>elif 判断条件2; then<br>条件为真的分支代码<br>elif 判断条件3; then<br>条件为真的分支代码<br>else<br>以上条件都为假的分支代码<br>fi<br>逐条件进行判断，第一次遇为“真”条件时，执行其分支，而后结束整个if<br>语句<br>If示例<br>根据命令的退出状态来执行命令<br>if ping -c1 -W2 station1 &amp;&gt; /dev/null; then<br>echo ‘Station1 is UP’<br>elif grep “station1” ~/maintenance.txt &amp;&gt; /dev/null;then<br>echo ‘Station1 is undergoing maintenance‘<br>else<br>echo ‘Station1 is unexpectedly DOWN!’<br>exit 1<br>fi<br>条件判断：case语句<br>case 变量引用 in<br>PAT1)<br>分支1<br>;;<br>PAT2)<br>分支2<br>;;<br>…<br><em>)<br>默认分支<br>;;<br>esac<br>case支持glob风格的通配符：
</em>: 任意长度任意字符<br>?: 任意单个字符<br>[]：指定范围内的任意单个字符<br>a|b: a或b<br>循环<br>循环执行<br>将某代码段重复运行多次<br>重复运行多少次：<br>循环次数事先已知<br>循环次数事先未知<br>有进入条件和退出条件<br>for, while, until<br>for循环<br>for 变量名 in 列表;do<br>循环体<br> done<br>执行机制：<br>依次将列表中的元素赋值给“变量名”; 每次赋值后即执行一次循环体; 直<br>到列表中的元素耗尽，循环结束<br>for循环<br>列表生成方式：<br>(1) 直接给出列表<br>(2) 整数列表：<br>(a) {start..end}<br>(b) $(seq [start [step]] end)<br>(3) 返回列表的命令<br>$(COMMAND)<br>(4) 使用glob，如：<em>.sh<br>(5) 变量引用；<br>$@, $</em><br>while循环<br>while CONDITION; do<br>循环体<br> done<br>CONDITION：循环控制条件；进入循环之前，先做一次判断；每一次循环之后<br>会再次做判断；条件为“true”，则执行一次循环；直到条件测试状态为<br>“false”终止循环<br>因此：CONDTION一般应该有循环控制变量；而此变量的值会在循环体不断地<br>被修正<br>进入条件：CONDITION为true<br>退出条件：CONDITION为false<br>until循环<br>until CONDITION; do<br>循环体<br>done<br>进入条件： CONDITION 为false<br>退出条件： CONDITION 为true<br>循环控制语句continue<br>用于循环体中<br>ontinue [N]：提前结束第N层的本轮循环，而直接进入下一轮判断；最内层为<br>第1层<br> while CONDTIITON1; do<br>CMD1<br>…<br>if CONDITION2; then<br>continue<br>fi<br>CMDn<br>…<br> done<br>循环控制语句break<br>用于循环体中<br>break [N]：提前结束第N层循环，最内层为第1层<br> while CONDTIITON1; do<br>CMD1<br>…<br>if CONDITION2; then<br>break<br>fi<br>CMDn<br>…<br> done<br>特殊用法<br>双小括号方法，即((…))格式，也可以用于算术运算<br>双小括号方法也可以使bash Shell实现C语言风格的变量操作<br>I=10<br>((I++))<br>for循环的特殊格式：<br> for ((控制变量初始化;条件判断表达式;控制变量的修正表达式))<br> do<br>循环体<br> done<br>控制变量初始化：仅在运行到循环代码段时执行一次<br>控制变量的修正表达式：每轮循环结束会先进行控制变量修正运算，而后再做<br>条件判断<br>函数介绍<br>函数function是由若干条shell命令组成的语句块，实现代码重用和模块化编程<br>它与shell程序形式上是相似的，不同的是它不是一个单独的进程，不能独立运<br>行，而是shell程序的一部分<br>函数和shell程序比较相似，区别在于：<br>Shell程序在子Shell中运行<br>而Shell函数在当前Shell中运行。因此在当前Shell中，函数可以对shell中变<br>量进行修改<br>定义函数<br> 函数由两部分组成：函数名和函数体<br> help function<br> 语法一：<br>f_name （）{<br>…函数体…<br>}<br> 语法二：<br>function f_name {<br>…函数体…<br>}<br> 语法三：<br>function f_name （） {<br>…函数体…<br>}<br>函数使用<br>函数的定义和使用：<br>可在交互式环境下定义函数<br>可将函数放在脚本文件中作为它的一部分<br>可放在只包含函数的单独文件中<br>调用：函数只有被调用才会执行<br>调用：给定函数名<br>函数名出现的地方，会被自动替换为函数代码<br>函数的生命周期：被调用时创建，返回时终止<br>函数返回值<br>函数有两种返回值：<br>函数的执行结果返回值：<br>(1) 使用echo等命令进行输出<br>(2) 函数体中调用命令的输出结果<br>函数的退出状态码：<br>(1) 默认取决于函数中执行的最后一条命令的退出状态码<br>(2) 自定义退出状态码，其格式为：<br>return 从函数中返回，用最后状态命令决定返回值<br>return 0 无错误返回。<br>return 1-255 有错误返回<br>交互式环境下定义和使用函数<br>示例：<br> dir() {<br>ls -l<br>}<br>定义该函数后，若在$后面键入dir，其显示结果同ls -l的作用相同<br> dir<br>该dir函数将一直保留到用户从系统退出，或执行了如下所示的unset命令<br> unset dir<br>在脚本中定义及使用函数<br> 函数在使用前必须定义，因此应将函数定义放在脚本开始部分，直至shell首次发现它<br>后才能使用<br>调用函数仅使用其函数名即可<br>示例：<br>cat func1<br>!/bin/bash<br> func1<br>hello()<br>{<br> echo “Hello there today’s date is <code>date +%F</code>“<br>}<br>echo “now going to the function hello”<br>hello<br>echo “back from the function”<br>使用函数文件<br>可以将经常使用的函数存入函数文件，然后将函数文件载入shell<br>文件名可任意选取，但最好与相关任务有某种联系。例如：functions.main<br>一旦函数文件载入shell，就可以在命令行或脚本中调用函数。可以使用set<br>命令查看所有定义的函数，其输出列表包括已经载入shell的所有函数<br>若要改动函数，首先用unset命令从shell中删除函数。改动完毕后，再重新<br>载入此文件<br>创建函数文件<br>函数文件示例：<br>cat functions.main</p>
</blockquote>
<p>#!/bin/bash</p>
<p>#functions.main<br>findit()<br>{<br> if [ $# -lt 1 ] ; then<br> echo “Usage:findit file”<br> return 1<br> fi<br> find / -name $1 –print<br>}<br>载入函数<br>函数文件已创建好后，要将它载入shell<br>定位函数文件并载入shell的格式：<br>. filename 或 source filename<br>注意：此即&lt;点&gt; &lt;空格&gt; &lt;文件名&gt;<br>这里的文件名要带正确路径<br>示例：<br> 上例中的函数，可使用如下命令：<br> . functions.main<br>检查载入函数<br>使用set命令检查函数是否已载入。set命令将在shell中显示所有的载入函数<br>示例：<br>set<br> findit=( )<br> {<br> if [ $# -lt 1 ]; then<br> echo “usage :findit file”;<br> return 1<br> fi<br> find / -name $1 -print<br> }<br>执行shell函数<br>要执行函数，简单地键入函数名即可<br>示例：<br>findit groups<br>/usr/bin/groups<br> /usr/local/backups/groups.bak<br>删除shell函数<br>现在对函数做一些改动后，需要先删除函数，使其对shell不可用。使用unset命<br>令完成删除函数<br>命令格式为：<br>unset function_name<br>示例：<br>unset findit<br>再键入set命令，函数将不再显示<br>函数参数<br>函数可以接受参数：<br>传递参数给函数：调用函数时，在函数名后面以空白分隔给定参数列表即可；<br>例如“testfunc arg1 arg2 …”<br>在函数体中当中，可使用$1, $2, …调用这些参数；还可以使用$@, $*, $#<br>等特殊变量<br>函数变量<br>变量作用域：<br>环境变量：当前shell和子shell有效<br>本地变量：只在当前shell进程有效，为执行脚本会启动专用子shell进程；<br>因此，本地变量的作用范围是当前shell脚本程序文件，包括脚本中的函数<br>局部变量：函数的生命周期；函数结束时变量被自动销毁<br>注意：如果函数中有局部变量，如果其名称同本地变量，使用局部变量<br>在函数中定义局部变量的方法<br>local NAME=VALUE<br>函数递归示例<br>函数递归：<br>函数直接或间接调用自身<br>注意递归层数<br>递归实例：<br> 阶乘是基斯顿·卡曼于 1808 年发明的运算符号，是数学术语<br>一个正整数的阶乘（factorial）是所有小于及等于该数的正整数的积，并且有0的<br>阶乘为1，自然数n的阶乘写作n!<br>n!=1×2×3×…×n<br>阶乘亦可以递归方式定义：0!=1，n!=(n-1)!×n<br>n!=n(n-1)(n-2)…1<br>n(n-1)! = n(n-1)(n-2)!<br>函数递归示例<br>示例：fact.sh</p>
<p>fact() {<br> if [ $1 -eq 0 -o $1 -eq 1 ]; then<br>echo 1<br> else<br>echo $[$1*$(fact $[$1-1])]<br> fi<br>}<br>fact $1<br>fork炸弹<br>fork炸弹是一种恶意程序，它的内部是一个不断在fork进程的无限循环，实质是<br>一个简单的递归程序。由于程序是递归的，如果没有任何限制，这会导致这个<br>简单的程序迅速耗尽系统里面的所有资源<br>函数实现<br> :(){ :|:&amp; };:<br> bomb() { bomb | bomb &amp; }; bomb<br>脚本实现<br> cat Bomb.sh</p>
<p> ./$0|./$0&amp;</p>

        
      </div>
      
      
      
    </div>
    



    
    
    
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">mwq</p>
              <p class="site-description motion-element" itemprop="description">主要涉及python知识共享,与各位共同学习</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/hubhack" title="GitHub &rarr; https://github.com/hubhack" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#linux基础介绍"><span class="nav-number">1.</span> <span class="nav-text">linux基础介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#操作系统"><span class="nav-number">1.1.</span> <span class="nav-text">操作系统:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装linux"><span class="nav-number">1.2.</span> <span class="nav-text">安装linux:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开发接口标准"><span class="nav-number">1.3.</span> <span class="nav-text">开发接口标准:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户和内核空间"><span class="nav-number">1.4.</span> <span class="nav-text">用户和内核空间:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux哲学思想"><span class="nav-number">1.5.</span> <span class="nav-text">linux哲学思想</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简单命令"><span class="nav-number">2.</span> <span class="nav-text">简单命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bash基本命令"><span class="nav-number">2.1.</span> <span class="nav-text">bash基本命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux命令缩写"><span class="nav-number">2.2.</span> <span class="nav-text">linux命令缩写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关机命令"><span class="nav-number">2.3.</span> <span class="nav-text">关机命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看命令"><span class="nav-number">2.4.</span> <span class="nav-text">查看命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#远程协助命令"><span class="nav-number">2.5.</span> <span class="nav-text">远程协助命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示命令"><span class="nav-number">2.6.</span> <span class="nav-text">显示命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取帮助"><span class="nav-number">2.7.</span> <span class="nav-text">获取帮助</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件操作"><span class="nav-number">3.</span> <span class="nav-text">文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文件系统结构元素"><span class="nav-number">3.1.</span> <span class="nav-text">文件系统结构元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux下的文件类型"><span class="nav-number">3.2.</span> <span class="nav-text">Linux下的文件类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示当前工作目录"><span class="nav-number">3.3.</span> <span class="nav-text">显示当前工作目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更改目录"><span class="nav-number">3.4.</span> <span class="nav-text">更改目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列出目录内容"><span class="nav-number">3.5.</span> <span class="nav-text">列出目录内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看文件状态"><span class="nav-number">3.6.</span> <span class="nav-text">查看文件状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建和查看文件"><span class="nav-number">3.7.</span> <span class="nav-text">创建和查看文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件统配符"><span class="nav-number">3.8.</span> <span class="nav-text">文件统配符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复制和转移删除文件"><span class="nav-number">3.9.</span> <span class="nav-text">复制和转移删除文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#软和硬链接"><span class="nav-number">3.10.</span> <span class="nav-text">软和硬链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#i-0-重定向至文件"><span class="nav-number">3.11.</span> <span class="nav-text">i/0 重定向至文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#管道"><span class="nav-number">3.12.</span> <span class="nav-text">管道</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户组权限"><span class="nav-number">4.</span> <span class="nav-text">用户组权限</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用户user"><span class="nav-number">4.1.</span> <span class="nav-text">用户user</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组group"><span class="nav-number">4.2.</span> <span class="nav-text">组group</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户创建-useradd"><span class="nav-number">4.3.</span> <span class="nav-text">用户创建:useradd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看用户相关的ID信息"><span class="nav-number">4.4.</span> <span class="nav-text">查看用户相关的ID信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#切换用户或以其他用户身份执行命令"><span class="nav-number">4.5.</span> <span class="nav-text">切换用户或以其他用户身份执行命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置密码"><span class="nav-number">4.6.</span> <span class="nav-text">设置密码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建组"><span class="nav-number">4.7.</span> <span class="nav-text">创建组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件权限"><span class="nav-number">4.8.</span> <span class="nav-text">文件权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改文件权限"><span class="nav-number">4.9.</span> <span class="nav-text">修改文件权限</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文本工具"><span class="nav-number">5.</span> <span class="nav-text">文本工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#抽取文本的工具"><span class="nav-number">5.1.</span> <span class="nav-text">抽取文本的工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示文本前后或后行内容"><span class="nav-number">5.2.</span> <span class="nav-text">显示文本前后或后行内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本排序sort"><span class="nav-number">5.3.</span> <span class="nav-text">文本排序sort</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达式"><span class="nav-number">5.4.</span> <span class="nav-text">正则表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#软件管理"><span class="nav-number">6.</span> <span class="nav-text">软件管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell编程"><span class="nav-number">7.</span> <span class="nav-text">shell编程</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mwq</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.1"></script>


  
  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
